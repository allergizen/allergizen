{"version":3,"sources":["Selector.tsx"],"names":["Selector","childrenStyle","children","styles","Array","isArray","flat","Infinity","validChildren","map","child","index","React","cloneElement","style","props","length","select","selector","firstChild","notFirstChild","lastChild","notLastChild","even","odd"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;AAeA,MAAMA,QAAiC,GAAG,QAAiC;AAAA,MAAhC;AAAEC,IAAAA,aAAF;AAAiBC,IAAAA;AAAjB,GAAgC;AACzE,QAAMC,MAAM,GAAG,oBACb,MACEC,KAAK,CAACC,OAAN,CAAcJ,aAAd,IACIA,aAAa,CAACK,IAAd,CAAmBC,QAAnB,CADJ,GAEI,CAACN,aAAD,CAJO,EAKb,CAACA,aAAD,CALa,CAAf;AAQA,QAAMO,aAAa,GAAG,iCAAiBN,QAAjB,CAAtB;AAEA,sBACE,4DACGM,aAAa,CAACC,GAAd,CAAkB,CAACC,KAAD,EAAQC,KAAR,kBACjBC,eAAMC,YAAN,CAAmBH,KAAnB,EAA0B;AACxBI,IAAAA,KAAK,EAAE,CACLJ,KAAK,CAACK,KAAN,CAAYD,KADP,EAELX,MAAM,CAACM,GAAP,CAAYK,KAAD,IACT,OAAOA,KAAP,KAAiB,UAAjB,GACIA,KAAK,CAACH,KAAD,EAAQH,aAAa,CAACQ,MAAtB,CADT,GAEIF,KAHN,CAFK;AADiB,GAA1B,CADD,CADH,CADF;AAgBD,CA3BD;;eA6Bed,Q;;;AAER,MAAMiB,MAAM,GAChBC,QAAD,IACCJ,KAAD,IACA,CAACH,KAAD,EAAgBK,MAAhB,KACEE,QAAQ,CAACP,KAAD,EAAQK,MAAR,CAAR,GAA0BF,KAA1B,GAAkC,IAJ/B;;;AAMA,MAAMK,UAAU,GAAGF,MAAM,CAAEN,KAAD,IAAWA,KAAK,KAAK,CAAtB,CAAzB;;AAEA,MAAMS,aAAa,GAAGH,MAAM,CAAEN,KAAD,IAAWA,KAAK,KAAK,CAAtB,CAA5B;;AAEA,MAAMU,SAAS,GAAGJ,MAAM,CAAC,CAACN,KAAD,EAAQK,MAAR,KAAmBL,KAAK,KAAKK,MAAM,GAAG,CAAvC,CAAxB;;AAEA,MAAMM,YAAY,GAAGL,MAAM,CAAC,CAACN,KAAD,EAAQK,MAAR,KAAmBL,KAAK,KAAKK,MAAM,GAAG,CAAvC,CAA3B;;AAEA,MAAMO,IAAI,GAAGN,MAAM,CAAEN,KAAD,IAAWA,KAAK,GAAG,CAAR,KAAc,CAA1B,CAAnB;;AAEA,MAAMa,GAAG,GAAGP,MAAM,CAAEN,KAAD,IAAWA,KAAK,GAAG,CAAR,KAAc,CAA1B,CAAlB","sourcesContent":["import React, { useMemo } from 'react';\nimport type { ImageStyle, StyleProp, TextStyle, ViewStyle } from 'react-native';\nimport { getValidChildren } from './utilities';\n\ntype Style = StyleProp<ViewStyle | TextStyle | ImageStyle>;\n\ntype ChildrenStyle = Style | ((index: number, length: number) => Style);\n\ntype ChildrenStyleProp = ChildrenStyle | Array<ChildrenStyleProp>;\n\nexport interface SelectorProps {\n  /**\n   * A style object to apply to each child.\n   */\n  childrenStyle?: ChildrenStyleProp;\n}\n\nconst Selector: React.FC<SelectorProps> = ({ childrenStyle, children }) => {\n  const styles = useMemo(\n    () =>\n      Array.isArray(childrenStyle)\n        ? childrenStyle.flat(Infinity)\n        : [childrenStyle],\n    [childrenStyle]\n  );\n\n  const validChildren = getValidChildren(children);\n\n  return (\n    <>\n      {validChildren.map((child, index) =>\n        React.cloneElement(child, {\n          style: [\n            child.props.style,\n            styles.map((style) =>\n              typeof style === 'function'\n                ? style(index, validChildren.length)\n                : style\n            ),\n          ],\n        })\n      )}\n    </>\n  );\n};\n\nexport default Selector;\n\nexport const select =\n  (selector: (index: number, length: number) => boolean) =>\n  (style: Style) =>\n  (index: number, length: number) =>\n    selector(index, length) ? style : null;\n\nexport const firstChild = select((index) => index === 0);\n\nexport const notFirstChild = select((index) => index !== 0);\n\nexport const lastChild = select((index, length) => index === length - 1);\n\nexport const notLastChild = select((index, length) => index !== length - 1);\n\nexport const even = select((index) => index % 2 === 0);\n\nexport const odd = select((index) => index % 2 !== 0);\n"]}