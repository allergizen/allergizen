{"version":3,"sources":["use-animated-elevation.ts"],"names":["useEffect","useMemo","Animated","Platform","useTheme","inputRange","Array","from","keys","useAnimatedElevation","elevation","animated","Value","OS","timing","toValue","duration","useNativeDriver","start","elevations","select","android","default","shadowColor","shadowOffset","width","interpolate","outputRange","Object","values","map","e","height","shadowOpacity","shadowRadius","web","boxShadow","transition"],"mappings":"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","sourcesContent":["import { useEffect, useMemo } from 'react';\nimport { Animated, Platform, StyleProp, ViewStyle } from 'react-native';\nimport { Elevation, useTheme } from '../base/ThemeContext';\n\nconst inputRange = Array.from(Array(25).keys());\n\nexport const useAnimatedElevation = (elevation: Elevation): StyleProp<ViewStyle> => {\n  const animated = useMemo(() => new Animated.Value(elevation), []);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') return;\n    Animated.timing(animated, {\n      toValue: elevation,\n      duration: 200,\n      useNativeDriver: true,\n    }).start();\n  }, [elevation]);\n\n  const { elevations } = useTheme();\n\n  return useMemo(\n    () => [\n      Platform.select({\n        android: { elevation: animated },\n        default: {\n          shadowColor: elevations[elevation].shadowColor,\n          shadowOffset: {\n            width: animated.interpolate({\n              inputRange,\n              outputRange: Object.values(elevations).map((e) => e.shadowOffset?.width ?? 0),\n            }),\n            height: animated.interpolate({\n              inputRange,\n              outputRange: Object.values(elevations).map((e) => e.shadowOffset?.height ?? 0),\n            }),\n          },\n          shadowOpacity: animated.interpolate({\n            inputRange,\n            outputRange: Object.values(elevations).map((e) => e.shadowOpacity ?? 0),\n          }),\n          shadowRadius: animated.interpolate({\n            inputRange,\n            outputRange: Object.values(elevations).map((e) => e.shadowRadius ?? 0),\n          }),\n        },\n        web: {\n          boxShadow: (elevations[elevation] as any).boxShadow,\n          transition:\n            'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n        },\n      }),\n      Platform.select({\n        default: {},\n        web: {},\n      }),\n    ],\n    [elevation, elevations]\n  );\n};\n"]}