{"version":3,"sources":["Badge.tsx"],"names":["Badge","label","showZero","max","visible","color","tintColor","style","labelStyle","children","palette","styles","container","minWidth","height","justifyContent","alignItems","paddingHorizontal","backgroundColor","main","borderRadius","isVisible","animated","Animated","Value","current","timing","toValue","duration","useNativeDriver","start","getLabel","on","transform","scale"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAoBA,MAAMA,KAA2B,GAAG,QAU9B;AAAA,MAV+B;AACnCC,IAAAA,KADmC;AAEnCC,IAAAA,QAAQ,GAAG,KAFwB;AAGnCC,IAAAA,GAAG,GAAG,EAH6B;AAInCC,IAAAA,OAAO,GAAG,IAJyB;AAKnCC,IAAAA,KAAK,GAAG,WAL2B;AAMnCC,IAAAA,SANmC;AAOnCC,IAAAA,KAPmC;AAQnCC,IAAAA,UARmC;AASnCC,IAAAA;AATmC,GAU/B;AACJ,QAAMC,OAAO,GAAG,sCAAgBL,KAAhB,EAAuBC,SAAvB,CAAhB;AAEA,QAAMK,MAAM,GAAG,0BACb,OAAO;AACLC,IAAAA,SAAS,EAAE;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,MAAM,EAAE,EAFC;AAGTC,MAAAA,cAAc,EAAE,QAHP;AAITC,MAAAA,UAAU,EAAE,QAJH;AAKTC,MAAAA,iBAAiB,EAAE,CALV;AAMTC,MAAAA,eAAe,EAAER,OAAO,CAACS,IANhB;AAOTC,MAAAA,YAAY,EAAE;AAPL;AADN,GAAP,CADa,EAYb,CAACV,OAAD,CAZa,CAAf;AAeA,QAAMW,SAAS,GAAG,oBAAQ,MAAOpB,KAAK,KAAK,CAAV,GAAcG,OAAO,IAAIF,QAAzB,GAAoCE,OAAnD,EAA6D,CAACH,KAAD,EAAQC,QAAR,EAAkBE,OAAlB,CAA7D,CAAlB;AAEA,QAAMkB,QAAQ,GAAG,mBAAO,IAAIC,sBAASC,KAAb,CAAmBH,SAAS,GAAG,CAAH,GAAO,CAAnC,CAAP,EAA8CI,OAA/D;AAEA,wBAAU,MAAM;AACdF,0BAASG,MAAT,CAAgBJ,QAAhB,EAA0B;AACxBK,MAAAA,OAAO,EAAEN,SAAS,GAAG,CAAH,GAAO,CADD;AAExBO,MAAAA,QAAQ,EAAE,GAFc;AAGxBC,MAAAA,eAAe,EAAE;AAHO,KAA1B,EAIGC,KAJH;AAKD,GAND,EAMG,CAACT,SAAD,CANH;;AAQA,QAAMU,QAAQ,GAAG,MAAM;AACrB,YAAQ,OAAO9B,KAAf;AACE,WAAK,QAAL;AACA,WAAK,QAAL;AACE,4BACE,6BAAC,aAAD;AAAM,UAAA,OAAO,EAAC,OAAd;AAAsB,UAAA,KAAK,EAAE,CAAC;AAAEI,YAAAA,KAAK,EAAEK,OAAO,CAACsB;AAAjB,WAAD,EAAwBxB,UAAxB;AAA7B,WACG,OAAOP,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,GAAGE,GAArC,GAA4C,GAAEA,GAAI,GAAlD,GAAuDF,KAD1D,CADF;;AAKF,WAAK,UAAL;AACE,eAAOA,KAAK,CAAC;AAAEI,UAAAA,KAAK,EAAEK,OAAO,CAACsB;AAAjB,SAAD,CAAZ;;AACF;AACE,eAAO/B,KAAP;AAXJ;AAaD,GAdD;;AAgBA,sBACE,6BAAC,qBAAD,CAAU,IAAV;AAAe,IAAA,KAAK,EAAE,CAACU,MAAM,CAACC,SAAR,EAAmB;AAAEqB,MAAAA,SAAS,EAAE,CAAC;AAAEC,QAAAA,KAAK,EAAEZ;AAAT,OAAD;AAAb,KAAnB,EAAyDf,KAAzD;AAAtB,KACGwB,QAAQ,EADX,EAEGtB,QAFH,CADF;AAMD,CA9DD;;eAgEeT,K","sourcesContent":["import React, { useEffect, useMemo, useRef } from 'react';\nimport { Animated, StyleProp, TextStyle, ViewProps } from 'react-native';\nimport Text from './Text';\nimport { Color, usePaletteColor } from './hooks/use-palette-color';\nimport { useStyles } from './hooks/use-styles';\n\nexport interface BadgeProps {\n  label?: number | string | React.ReactElement | ((props: { color: string }) => React.ReactElement | null) | null;\n\n  showZero?: boolean;\n\n  max?: number;\n\n  visible?: boolean;\n\n  color?: Color;\n\n  tintColor?: Color;\n\n  style?: Animated.AnimatedProps<ViewProps>['style'];\n\n  labelStyle?: StyleProp<TextStyle>;\n}\n\nconst Badge: React.FC<BadgeProps> = ({\n  label,\n  showZero = false,\n  max = 99,\n  visible = true,\n  color = 'secondary',\n  tintColor,\n  style,\n  labelStyle,\n  children,\n}) => {\n  const palette = usePaletteColor(color, tintColor);\n\n  const styles = useStyles(\n    () => ({\n      container: {\n        minWidth: 20,\n        height: 20,\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingHorizontal: 6,\n        backgroundColor: palette.main,\n        borderRadius: 10,\n      },\n    }),\n    [palette]\n  );\n\n  const isVisible = useMemo(() => (label === 0 ? visible && showZero : visible), [label, showZero, visible]);\n\n  const animated = useRef(new Animated.Value(isVisible ? 1 : 0)).current;\n\n  useEffect(() => {\n    Animated.timing(animated, {\n      toValue: isVisible ? 1 : 0,\n      duration: 200,\n      useNativeDriver: true,\n    }).start();\n  }, [isVisible]);\n\n  const getLabel = () => {\n    switch (typeof label) {\n      case 'number':\n      case 'string':\n        return (\n          <Text variant=\"body2\" style={[{ color: palette.on }, labelStyle]}>\n            {typeof label === 'number' && label > max ? `${max}+` : label}\n          </Text>\n        );\n      case 'function':\n        return label({ color: palette.on });\n      default:\n        return label;\n    }\n  };\n\n  return (\n    <Animated.View style={[styles.container, { transform: [{ scale: animated }] }, style]}>\n      {getLabel()}\n      {children}\n    </Animated.View>\n  );\n};\n\nexport default Badge;\n"]}